
events {
    worker_connections 1024;
}

http {
       #upstream backend {
       #    server $srv1;
       #    server $srv2;
       #    server $srv3;
       #}

    server {
        listen 80;
        server_name webx;
   	set $srv1 srv1.example.com;
   	set $srv2 srv2.example.com;
   	set $srv3 srv3.example.com;
        set $upstream api.example.com:2000;

        location / {
            return 200 "hello world";
        }
        location /foo {
            log_not_found off;
            return 202 "buh bye world";
        }
        location /baby {
            return 200 "hello baby";
            set $upstream api.awesome.com:9000;
            location ~ \.php$  {
                fastcgi_pass $upstream;
            }
        }
    }
}
